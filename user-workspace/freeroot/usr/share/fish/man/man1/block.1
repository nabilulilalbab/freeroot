.\" Man page generated from reStructuredText.
.
.TH "BLOCK" "1" "Feb 12, 2020" "3.1" "fish-shell"
.SH NAME
block \- temporarily block delivery of events
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
block [OPTIONS...]
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
\fBblock\fP prevents events triggered by \fBfish\fP or the emit command from being delivered and acted upon while the block is in place.
.sp
In functions, \fBblock\fP can be useful while performing work that should not be interrupted by the shell.
.sp
The block can be removed. Any events which triggered while the block was in place will then be delivered.
.sp
Event blocks should not be confused with code blocks, which are created with \fBbegin\fP, \fBif\fP, \fBwhile\fP or \fBfor\fP
.sp
The following parameters are available:
.INDENT 0.0
.IP \(bu 2
\fB\-l\fP or \fB\-\-local\fP Release the block automatically at the end of the current innermost code block scope
.IP \(bu 2
\fB\-g\fP or \fB\-\-global\fP Never automatically release the lock
.IP \(bu 2
\fB\-e\fP or \fB\-\-erase\fP Release global block
.UNINDENT
.SH EXAMPLE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Create a function that listens for events
function \-\-on\-event foo foo; echo \(aqfoo fired\(aq; end

# Block the delivery of events
block \-g

emit foo
# No output will be produced

block \-e
# \(aqfoo fired\(aq will now be printed
.ft P
.fi
.UNINDENT
.UNINDENT
.SH NOTES
.sp
Note that events are only received from the current fish process as there is no way to send events from one fish process to another.
.SH COPYRIGHT
2019, fish-shell developers
.\" Generated by docutils manpage writer.
.
