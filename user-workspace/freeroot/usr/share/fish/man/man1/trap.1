.\" Man page generated from reStructuredText.
.
.TH "TRAP" "1" "Feb 12, 2020" "3.1" "fish-shell"
.SH NAME
trap \- perform an action when the shell receives a signal
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
trap [OPTIONS] [[ARG] REASON ... ]
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
\fBtrap\fP is a wrapper around the fish event delivery framework. It exists for backwards compatibility with POSIX shells. For other uses, it is recommended to define an event handler\&.
.sp
The following parameters are available:
.INDENT 0.0
.IP \(bu 2
\fBARG\fP is the command to be executed on signal delivery.
.IP \(bu 2
\fBREASON\fP is the name of the event to trap. For example, a signal like \fBINT\fP or \fBSIGINT\fP, or the special symbol \fBEXIT\fP\&.
.IP \(bu 2
\fB\-l\fP or \fB\-\-list\-signals\fP prints a list of signal names.
.IP \(bu 2
\fB\-p\fP or \fB\-\-print\fP prints all defined signal handlers.
.UNINDENT
.sp
If \fBARG\fP and \fBREASON\fP are both specified, \fBARG\fP is the command to be executed when the event specified by \fBREASON\fP occurs (e.g., the signal is delivered).
.sp
If \fBARG\fP is absent (and there is a single REASON) or \-, each specified signal is reset to its original disposition (the value it had upon entrance to the shell).  If \fBARG\fP is the null string the signal specified by each \fBREASON\fP is ignored by the shell and by the commands it invokes.
.sp
If \fBARG\fP is not present and \fB\-p\fP has been supplied, then the trap commands associated with each \fBREASON\fP are displayed. If no arguments are supplied or if only \fB\-p\fP is given, \fBtrap\fP prints the list of commands associated with each signal.
.sp
Signal names are case insensitive and the \fBSIG\fP prefix is optional.
.sp
The exit status is 1 if any \fBREASON\fP is invalid; otherwise trap returns 0.
.SH EXAMPLE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
trap "status \-\-print\-stack\-trace" SIGUSR1
# Prints a stack trace each time the SIGUSR1 signal is sent to the shell.
.ft P
.fi
.UNINDENT
.UNINDENT
.SH COPYRIGHT
2019, fish-shell developers
.\" Generated by docutils manpage writer.
.
