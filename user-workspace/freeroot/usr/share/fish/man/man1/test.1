.\" Man page generated from reStructuredText.
.
.TH "TEST" "1" "Feb 12, 2020" "3.1" "fish-shell"
.SH NAME
test \- perform tests on files and text
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
test [EXPRESSION]
[ [EXPRESSION] ]
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
Tests the expression given and sets the exit status to 0 if true, and 1 if false. An expression is made up of one or more operators and their arguments.
.sp
The first form (\fBtest\fP) is preferred. For compatibility with other shells, the second form is available: a matching pair of square brackets (\fB[ [EXPRESSION ] ]\fP).
.sp
This test is mostly POSIX\-compatible.
.sp
When using a variable as an argument for a test operator you should almost always enclose it in double\-quotes. There are only two situations it is safe to omit the quote marks. The first is when the argument is a literal string with no whitespace or other characters special to the shell (e.g., semicolon). For example, \fBtest \-b /my/file\fP\&. The second is using a variable that expands to exactly one element including if that element is the empty string (e.g., \fBset x \(aq\(aq\fP). If the variable is not set, set but with no value, or set to more than one value you must enclose it in double\-quotes. For example, \fBtest "$x" = "$y"\fP\&. Since it is always safe to enclose variables in double\-quotes when used as \fBtest\fP arguments that is the recommended practice.
.SH OPERATORS FOR FILES AND DIRECTORIES
.INDENT 0.0
.IP \(bu 2
\fB\-b FILE\fP returns true if \fBFILE\fP is a block device.
.IP \(bu 2
\fB\-c FILE\fP returns true if \fBFILE\fP is a character device.
.IP \(bu 2
\fB\-d FILE\fP returns true if \fBFILE\fP is a directory.
.IP \(bu 2
\fB\-e FILE\fP returns true if \fBFILE\fP exists.
.IP \(bu 2
\fB\-f FILE\fP returns true if \fBFILE\fP is a regular file.
.IP \(bu 2
\fB\-g FILE\fP returns true if \fBFILE\fP has the set\-group\-ID bit set.
.IP \(bu 2
\fB\-G FILE\fP returns true if \fBFILE\fP exists and has the same group ID as the current user.
.IP \(bu 2
\fB\-k FILE\fP returns true if \fBFILE\fP has the sticky bit set. If the OS does not support the concept it returns false. See \fI\%https://en.wikipedia.org/wiki/Sticky_bit\fP\&.
.IP \(bu 2
\fB\-L FILE\fP returns true if \fBFILE\fP is a symbolic link.
.IP \(bu 2
\fB\-O FILE\fP returns true if \fBFILE\fP exists and is owned by the current user.
.IP \(bu 2
\fB\-p FILE\fP returns true if \fBFILE\fP is a named pipe.
.IP \(bu 2
\fB\-r FILE\fP returns true if \fBFILE\fP is marked as readable.
.IP \(bu 2
\fB\-s FILE\fP returns true if the size of \fBFILE\fP is greater than zero.
.IP \(bu 2
\fB\-S FILE\fP returns true if \fBFILE\fP is a socket.
.IP \(bu 2
\fB\-t FD\fP returns true if the file descriptor \fBFD\fP is a terminal (TTY).
.IP \(bu 2
\fB\-u FILE\fP returns true if \fBFILE\fP has the set\-user\-ID bit set.
.IP \(bu 2
\fB\-w FILE\fP returns true if \fBFILE\fP is marked as writable; note that this does not check if the filesystem is read\-only.
.IP \(bu 2
\fB\-x FILE\fP returns true if \fBFILE\fP is marked as executable.
.UNINDENT
.SH OPERATORS FOR TEXT STRINGS
.INDENT 0.0
.IP \(bu 2
\fBSTRING1 = STRING2\fP returns true if the strings \fBSTRING1\fP and \fBSTRING2\fP are identical.
.IP \(bu 2
\fBSTRING1 != STRING2\fP returns true if the strings \fBSTRING1\fP and \fBSTRING2\fP are not identical.
.IP \(bu 2
\fB\-n STRING\fP returns true if the length of \fBSTRING\fP is non\-zero.
.IP \(bu 2
\fB\-z STRING\fP returns true if the length of \fBSTRING\fP is zero.
.UNINDENT
.SH OPERATORS TO COMPARE AND EXAMINE NUMBERS
.INDENT 0.0
.IP \(bu 2
\fBNUM1 \-eq NUM2\fP returns true if \fBNUM1\fP and \fBNUM2\fP are numerically equal.
.IP \(bu 2
\fBNUM1 \-ne NUM2\fP returns true if \fBNUM1\fP and \fBNUM2\fP are not numerically equal.
.IP \(bu 2
\fBNUM1 \-gt NUM2\fP returns true if \fBNUM1\fP is greater than \fBNUM2\fP\&.
.IP \(bu 2
\fBNUM1 \-ge NUM2\fP returns true if \fBNUM1\fP is greater than or equal to \fBNUM2\fP\&.
.IP \(bu 2
\fBNUM1 \-lt NUM2\fP returns true if \fBNUM1\fP is less than \fBNUM2\fP\&.
.IP \(bu 2
\fBNUM1 \-le NUM2\fP returns true if \fBNUM1\fP is less than or equal to \fBNUM2\fP\&.
.UNINDENT
.sp
Both integers and floating point numbers are supported.
.SH OPERATORS TO COMBINE EXPRESSIONS
.INDENT 0.0
.IP \(bu 2
\fBCOND1 \-a COND2\fP returns true if both \fBCOND1\fP and \fBCOND2\fP are true.
.IP \(bu 2
\fBCOND1 \-o COND2\fP returns true if either \fBCOND1\fP or \fBCOND2\fP are true.
.UNINDENT
.sp
Expressions can be inverted using the \fB!\fP operator:
.INDENT 0.0
.IP \(bu 2
\fB! EXPRESSION\fP returns true if \fBEXPRESSION\fP is false, and false if \fBEXPRESSION\fP is true.
.UNINDENT
.sp
Expressions can be grouped using parentheses.
.INDENT 0.0
.IP \(bu 2
\fB( EXPRESSION )\fP returns the value of \fBEXPRESSION\fP\&.
.UNINDENT
.INDENT 0.0
.INDENT 3.5
Note that parentheses will usually require escaping with \fB\e(\fP to avoid being interpreted as a command substitution.
.UNINDENT
.UNINDENT
.SH EXAMPLES
.sp
If the \fB/tmp\fP directory exists, copy the \fB/etc/motd\fP file to it:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
if test \-d /tmp
    cp /etc/motd /tmp/motd
end
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If the variable \fBMANPATH\fP is defined and not empty, print the contents. (If \fBMANPATH\fP is not defined, then it will expand to zero arguments, unless quoted.)
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
if test \-n "$MANPATH"
    echo $MANPATH
end
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Parentheses and the \fB\-o\fP and \fB\-a\fP operators can be combined to produce more complicated expressions. In this example, success is printed if there is a \fB/foo\fP or \fB/bar\fP file as well as a \fB/baz\fP or \fB/bat\fP file.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
if test \e( \-f /foo \-o \-f /bar \e) \-a \e( \-f /baz \-o \-f /bat \e)
    echo Success.
end.
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Numerical comparisons will simply fail if one of the operands is not a number:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
if test 42 \-eq "The answer to life, the universe and everything"
    echo So long and thanks for all the fish # will not be executed
end
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
A common comparison is with $status:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
if test $status \-eq 0
    echo "Previous command succeeded"
end
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The previous test can likewise be inverted:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
if test ! $status \-eq 0
    echo "Previous command failed"
end
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
which is logically equivalent to the following:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
if test $status \-ne 0
    echo "Previous command failed"
end
.ft P
.fi
.UNINDENT
.UNINDENT
.SH STANDARDS
.sp
\fBtest\fP implements a subset of the \fI\%IEEE Std 1003.1\-2008 (POSIX.1) standard\fP\&. The following exceptions apply:
.INDENT 0.0
.IP \(bu 2
The \fB<\fP and \fB>\fP operators for comparing strings are not implemented.
.IP \(bu 2
Because this test is a shell builtin and not a standalone utility, using the \-c flag on a special file descriptors like standard input and output may not return the same result when invoked from within a pipe as one would expect when invoking the \fBtest\fP utility in another shell.
.UNINDENT
.INDENT 0.0
.INDENT 3.5
In cases such as this, one can use \fBcommand\fP \fBtest\fP to explicitly use the system\(aqs standalone \fBtest\fP rather than this \fBbuiltin\fP \fBtest\fP\&.
.UNINDENT
.UNINDENT
.SH COPYRIGHT
2019, fish-shell developers
.\" Generated by docutils manpage writer.
.
